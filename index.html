<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Everything Under the Sun | Luxury Property Services & Custom Building | Malibu, Pacific Palisades, Altadena</title>
  <meta name="description" content="Premier builder connections and luxury property services for distinguished homes in Malibu, Pacific Palisades, and Altadena. Veteran-owned. Two decades of trusted relationships with California's finest builders.">
  <meta name="keywords" content="luxury home builders, custom home construction Malibu, Pacific Palisades contractors, Altadena renovation, high-end property services, premier builders Southern California">
  
  <!-- Open Graph -->
  <meta property="og:title" content="Everything Under the Sun | Luxury Property Services">
  <meta property="og:description" content="Building legendary properties with California's finest builders. Two decades of trusted relationships.">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="en_US">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚òÄÔ∏è</text></svg>">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@300;400;500&family=Montserrat:wght@200;300;400;500&display=swap" rel="stylesheet">
  
  <!-- Schema.org LocalBusiness -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Everything Under the Sun",
    "description": "Premier builder connections and luxury property services for distinguished properties",
    "url": "https://everythingis.online",
    "telephone": "+1-213-769-7079",
    "email": "wave@everythingis.online",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Los Angeles",
      "addressRegion": "CA",
      "addressCountry": "US"
    },
    "areaServed": ["Malibu", "Pacific Palisades", "Altadena", "Los Angeles"],
    "serviceType": ["Custom Home Building", "Property Renovation", "Fire Restoration", "Builder Referrals"]
  }
  </script>

  <style>
:root {
  --black: #0a0a0a;
  --white: #ffffff;
  --cream: #faf9f7;
  --warm-gray: #9a9590;
  --light-gray: #e8e6e3;
  --gold: #b8a88a;
  --gold-light: #d4c9b5;
  --font-display: 'Cormorant', Georgia, serif;
  --font-body: 'Montserrat', -apple-system, sans-serif;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

html {
  scroll-behavior: smooth;
  font-size: 16px;
  -webkit-text-size-adjust: 100%;
}

body {
  font-family: var(--font-body);
  font-weight: 300;
  color: var(--black);
  background: var(--white);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
  text-rendering: optimizeLegibility;
}

/* Text balancing - prevents orphaned words and bad breaks */
h1, h2, h3, .hero-title, .nav-logo, .footer-brand {
  text-wrap: balance;
  word-break: keep-all;
  hyphens: none;
  -webkit-hyphens: none;
}

p {
  text-wrap: pretty;
}

/* Scroll Animations */
.fade-in {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s ease, transform 0.8s ease;
  will-change: opacity, transform;
}
.fade-in.visible {
  opacity: 1;
  transform: translateY(0);
}
.fade-in-left {
  opacity: 0;
  transform: translateX(-30px);
  transition: opacity 0.8s ease, transform 0.8s ease;
  will-change: opacity, transform;
}
.fade-in-left.visible {
  opacity: 1;
  transform: translateX(0);
}
.fade-in-right {
  opacity: 0;
  transform: translateX(30px);
  transition: opacity 0.8s ease, transform 0.8s ease;
  will-change: opacity, transform;
}
.fade-in-right.visible {
  opacity: 1;
  transform: translateX(0);
}

/* Navigation */
.nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
  padding: 1.5rem 1.25rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}
@media (min-width: 768px) {
  .nav { padding: 2rem 4rem; }
}
.nav.scrolled {
  background: rgba(255, 255, 255, 0.97);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  padding: 1rem 1.25rem;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05);
}
@media (min-width: 768px) {
  .nav.scrolled { padding: 1.25rem 4rem; }
}
.nav-logo {
  font-family: var(--font-display);
  font-size: clamp(0.7rem, 2.5vw, 1.1rem);
  font-weight: 400;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--white);
  text-decoration: none;
  transition: color 0.4s;
  white-space: nowrap;
}
.nav.scrolled .nav-logo { color: var(--black); }

/* Nav CTA */
.nav-cta {
  font-size: 0.6rem;
  font-weight: 400;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--white);
  text-decoration: none;
  padding: 0.75rem 1.25rem;
  min-height: 44px;
  min-width: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid rgba(255, 255, 255, 0.4);
  transition: all 0.4s;
  cursor: pointer;
  background: transparent;
  font-family: var(--font-body);
  -webkit-tap-highlight-color: transparent;
}
@media (min-width: 768px) {
  .nav-cta { font-size: 0.7rem; padding: 0.75rem 1.5rem; letter-spacing: 0.12em; }
}
.nav-cta:hover, .nav-cta:focus {
  background: var(--white);
  color: var(--black);
  border-color: var(--white);
  outline: none;
}
.nav.scrolled .nav-cta {
  color: var(--black);
  border-color: var(--black);
}
.nav.scrolled .nav-cta:hover, .nav.scrolled .nav-cta:focus {
  background: var(--black);
  color: var(--white);
}

/* Hero */
.hero {
  position: relative;
  height: 100vh;
  height: 100dvh;
  min-height: 600px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}
.hero-media {
  position: absolute;
  inset: 0;
  z-index: 0;
}
.hero-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  filter: brightness(0.65);
}
.hero-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.25) 0%,
    rgba(0, 0, 0, 0.1) 50%,
    rgba(0, 0, 0, 0.45) 100%
  );
}
.hero-content {
  position: relative;
  z-index: 2;
  text-align: center;
  color: var(--white);
  padding: 1.5rem;
  max-width: 900px;
}
.hero-eyebrow {
  font-size: clamp(0.5rem, 1.5vw, 0.7rem);
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  margin-bottom: 1.25rem;
  opacity: 0.85;
}
@media (min-width: 768px) {
  .hero-eyebrow { letter-spacing: 0.3em; margin-bottom: 2rem; }
}
.hero-title {
  font-family: var(--font-display);
  font-size: clamp(2rem, 7vw, 5.5rem);
  font-weight: 300;
  letter-spacing: 0.02em;
  line-height: 1.1;
  margin-bottom: 1rem;
  white-space: nowrap;
}
@media (max-width: 400px) {
  .hero-title {
    font-size: 1.85rem;
  }
}
.hero-subtitle {
  font-size: clamp(0.8rem, 2vw, 1rem);
  font-weight: 300;
  letter-spacing: 0.06em;
  opacity: 0.9;
  max-width: 400px;
  margin: 0 auto;
  line-height: 1.6;
}
@media (min-width: 768px) {
  .hero-subtitle { letter-spacing: 0.1em; max-width: 450px; }
}
.hero-scroll {
  position: absolute;
  bottom: 2rem;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.6rem;
  color: var(--white);
  animation: fadeInUp 1s ease 1.5s forwards;
  opacity: 0;
}
@media (min-width: 768px) {
  .hero-scroll { bottom: 3rem; gap: 0.75rem; }
}
@keyframes fadeInUp { to { opacity: 0.6; } }
.hero-scroll span {
  font-size: 0.55rem;
  letter-spacing: 0.2em;
  text-transform: uppercase;
}
.scroll-line {
  width: 1px;
  height: 45px;
  background: linear-gradient(to bottom, var(--white), transparent);
  animation: scrollPulse 2s ease-in-out infinite;
  will-change: transform, opacity;
}
@media (min-width: 768px) {
  .scroll-line { height: 60px; }
}
@keyframes scrollPulse {
  0%, 100% { transform: scaleY(1); opacity: 0.6; }
  50% { transform: scaleY(0.6); opacity: 0.3; }
}

/* Currently Working In Banner */
.now-serving {
  background: var(--black);
  color: var(--white);
  padding: 1rem 1.25rem;
  text-align: center;
}
@media (min-width: 768px) {
  .now-serving { padding: 1.25rem 2rem; }
}
.now-serving-inner {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.6rem;
  flex-wrap: wrap;
}
.now-serving-badge {
  background: var(--gold);
  color: var(--black);
  padding: 0.25rem 0.6rem;
  font-size: clamp(0.45rem, 1.2vw, 0.6rem);
  font-weight: 500;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  white-space: nowrap;
}
.now-serving-text {
  font-size: clamp(0.7rem, 1.8vw, 0.85rem);
  letter-spacing: 0.04em;
}

/* Sections */
.section {
  padding: 4rem 1.25rem;
}
@media (min-width: 768px) {
  .section { padding: 8rem 4rem; }
}
@media (min-width: 1024px) {
  .section { padding: 10rem 4rem; }
}
.section-dark {
  background: var(--black);
  color: var(--white);
}
.section-cream {
  background: var(--cream);
}
.section-header {
  text-align: center;
  margin-bottom: 2.5rem;
}
@media (min-width: 768px) {
  .section-header { margin-bottom: 5rem; }
}
.section-eyebrow {
  font-size: clamp(0.5rem, 1.2vw, 0.65rem);
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--gold);
  margin-bottom: 1rem;
}
@media (min-width: 768px) {
  .section-eyebrow { letter-spacing: 0.3em; margin-bottom: 1.5rem; }
}
.section-title {
  font-family: var(--font-display);
  font-size: clamp(1.75rem, 5vw, 3.5rem);
  font-weight: 300;
  letter-spacing: 0.02em;
  line-height: 1.2;
  max-width: 750px;
  margin: 0 auto;
  padding: 0 0.5rem;
}

/* Intro */
.intro {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 45vh;
  text-align: center;
  padding: 4rem 1.25rem;
}
@media (min-width: 768px) {
  .intro { padding: 8rem 4rem; min-height: 50vh; }
}
.intro-content { max-width: 850px; }
.intro-text {
  font-family: var(--font-display);
  font-size: clamp(1.15rem, 2.8vw, 2rem);
  font-weight: 300;
  line-height: 1.8;
  color: var(--black);
}
.intro-text em {
  font-style: italic;
  color: var(--gold);
}

/* Services Grid */
.services-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1px;
  background: var(--light-gray);
  max-width: 1400px;
  margin: 0 auto;
}
@media (min-width: 640px) {
  .services-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (min-width: 1024px) {
  .services-grid { grid-template-columns: repeat(3, 1fr); }
}

/* Service Card with Hover/Tap Expand */
.service-item {
  background: var(--white);
  padding: 2rem 1.5rem;
  text-align: center;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  position: relative;
  -webkit-tap-highlight-color: transparent;
}
@media (min-width: 768px) {
  .service-item { padding: 3rem 2.5rem; }
}
.service-item:hover,
.service-item:focus {
  background: var(--cream);
  outline: none;
}
.service-item.expanded {
  background: var(--cream);
}
.service-icon {
  font-size: 1.25rem;
  margin-bottom: 1rem;
  opacity: 0.7;
  color: var(--gold);
  transition: transform 0.3s ease;
}
@media (min-width: 768px) {
  .service-icon { font-size: 1.5rem; margin-bottom: 1.25rem; }
}
.service-item:hover .service-icon,
.service-item.expanded .service-icon {
  transform: scale(1.1);
}
.service-item h3 {
  font-family: var(--font-display);
  font-size: clamp(1.1rem, 2.5vw, 1.4rem);
  font-weight: 400;
  margin-bottom: 0.5rem;
  letter-spacing: 0.02em;
}
.service-teaser {
  font-size: clamp(0.75rem, 1.5vw, 0.85rem);
  color: var(--warm-gray);
  line-height: 1.7;
  max-width: 280px;
  margin: 0 auto;
}
.service-expand-icon {
  display: inline-block;
  margin-top: 0.75rem;
  font-size: 0.7rem;
  color: var(--gold);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  transition: all 0.3s ease;
}
.service-expand-icon::after {
  content: ' +';
  transition: transform 0.3s ease;
}
.service-item.expanded .service-expand-icon::after {
  content: ' ‚àí';
}
.service-details {
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transition: max-height 0.4s ease, opacity 0.3s ease, margin 0.3s ease;
  margin-top: 0;
}
.service-item.expanded .service-details {
  max-height: 300px;
  opacity: 1;
  margin-top: 1rem;
}
.service-details p {
  font-size: clamp(0.8rem, 1.5vw, 0.9rem);
  color: #4a4a4a;
  line-height: 1.9;
  padding-top: 1rem;
  border-top: 1px solid var(--light-gray);
}

/* Restoration Section (moved intro text) */
.restoration-section {
  padding: 4rem 1.25rem;
  background: var(--white);
  border-top: 1px solid var(--light-gray);
}
@media (min-width: 768px) {
  .restoration-section { padding: 6rem 4rem; }
}
.restoration-inner {
  max-width: 800px;
  margin: 0 auto;
  text-align: center;
}
.restoration-eyebrow {
  font-size: clamp(0.5rem, 1.2vw, 0.65rem);
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--gold);
  margin-bottom: 1.25rem;
}
@media (min-width: 768px) {
  .restoration-eyebrow { letter-spacing: 0.3em; margin-bottom: 1.5rem; }
}
.restoration-text {
  font-family: var(--font-display);
  font-size: clamp(1.1rem, 2.5vw, 1.8rem);
  font-weight: 300;
  line-height: 1.8;
  color: var(--black);
}
.restoration-text em {
  font-style: italic;
  color: var(--gold);
}
.restoration-subtext {
  margin-top: 1.5rem;
  font-size: clamp(0.8rem, 1.5vw, 0.95rem);
  color: var(--warm-gray);
  line-height: 1.9;
  max-width: 650px;
  margin-left: auto;
  margin-right: auto;
}

/* Image Section */
.image-section {
  position: relative;
  height: 55vh;
  min-height: 350px;
  overflow: hidden;
}
@media (min-width: 768px) {
  .image-section { height: 80vh; min-height: 500px; }
}
.image-section img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.image-section-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.35);
  display: flex;
  align-items: center;
  justify-content: center;
}
.image-section-content {
  text-align: center;
  color: var(--white);
  padding: 1.5rem;
}
.image-section-content h2 {
  font-family: var(--font-display);
  font-size: clamp(1.5rem, 4vw, 3rem);
  font-weight: 300;
  letter-spacing: 0.05em;
  margin-bottom: 0.6rem;
}
.image-section-content p {
  font-size: clamp(0.75rem, 1.5vw, 0.9rem);
  letter-spacing: 0.08em;
  opacity: 0.9;
}

/* Tribute */
.tribute {
  max-width: 850px;
  margin: 0 auto;
  padding: 4rem 1.25rem;
}
@media (min-width: 768px) {
  .tribute { padding: 8rem 4rem; }
}
.tribute-header {
  display: flex;
  align-items: center;
  gap: 0.85rem;
  margin-bottom: 2rem;
  padding-bottom: 1.25rem;
  border-bottom: 1px solid var(--light-gray);
}
@media (min-width: 768px) {
  .tribute-header { gap: 1.5rem; margin-bottom: 3rem; padding-bottom: 2rem; }
}
.tribute-icon {
  width: 40px;
  height: 40px;
  border: 1px solid var(--gold);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
  flex-shrink: 0;
}
@media (min-width: 768px) {
  .tribute-icon { width: 50px; height: 50px; font-size: 1.25rem; }
}
.tribute-header-text h3 {
  font-family: var(--font-display);
  font-size: clamp(1.1rem, 2.5vw, 1.5rem);
  font-weight: 400;
  margin-bottom: 0.15rem;
  line-height: 1.3;
}
.tribute-header-text span {
  font-size: clamp(0.6rem, 1.2vw, 0.7rem);
  letter-spacing: 0.08em;
  color: var(--warm-gray);
  text-transform: uppercase;
}
.tribute-body p {
  font-size: clamp(0.85rem, 1.5vw, 1rem);
  line-height: 1.9;
  color: #4a4a4a;
  margin-bottom: 1rem;
}
@media (min-width: 768px) {
  .tribute-body p { line-height: 2; margin-bottom: 1.5rem; }
}
.tribute-signature {
  margin-top: 2rem;
  padding-top: 1.25rem;
  border-top: 1px solid var(--light-gray);
  display: flex;
  align-items: center;
  gap: 1rem;
}
@media (min-width: 768px) {
  .tribute-signature { margin-top: 3rem; padding-top: 2rem; }
}
.veteran-mark {
  font-size: clamp(0.55rem, 1.2vw, 0.7rem);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--gold);
  padding: 0.5rem 0.85rem;
  border: 1px solid var(--gold-light);
}

/* CTA */
.cta-section {
  padding: 5rem 1.25rem;
  text-align: center;
  background: var(--black);
  color: var(--white);
}
@media (min-width: 768px) {
  .cta-section { padding: 10rem 4rem; }
}
.cta-title {
  font-family: var(--font-display);
  font-size: clamp(1.5rem, 4vw, 2.75rem);
  font-weight: 300;
  letter-spacing: 0.02em;
  margin-bottom: 1rem;
}
.cta-subtitle {
  font-size: clamp(0.75rem, 1.5vw, 0.9rem);
  font-weight: 300;
  color: var(--warm-gray);
  max-width: 450px;
  margin: 0 auto 2rem;
  line-height: 1.8;
}
@media (min-width: 768px) {
  .cta-subtitle { margin-bottom: 3rem; max-width: 480px; }
}
.cta-button {
  display: inline-block;
  padding: 1rem 2rem;
  font-family: var(--font-body);
  font-size: clamp(0.55rem, 1.2vw, 0.7rem);
  font-weight: 400;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--black);
  background: var(--white);
  border: none;
  cursor: pointer;
  transition: all 0.4s;
  min-height: 48px;
  -webkit-tap-highlight-color: transparent;
}
@media (min-width: 768px) {
  .cta-button { padding: 1.25rem 3rem; letter-spacing: 0.2em; }
}
.cta-button:hover, .cta-button:focus {
  background: var(--gold);
  color: var(--white);
  outline: none;
}

/* Footer */
.footer {
  padding: 2.5rem 1.25rem;
  background: var(--black);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}
@media (min-width: 768px) {
  .footer { padding: 4rem; }
}
.footer-inner {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  text-align: center;
}
@media (min-width: 768px) {
  .footer-inner {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    text-align: left;
    gap: 2rem;
  }
}
.footer-brand {
  font-family: var(--font-display);
  font-size: clamp(0.8rem, 1.8vw, 1rem);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--white);
}
.footer-info { text-align: center; }
@media (min-width: 768px) {
  .footer-info { text-align: right; }
}
.footer-info p {
  font-size: clamp(0.6rem, 1.2vw, 0.75rem);
  color: var(--warm-gray);
  letter-spacing: 0.04em;
  margin-bottom: 0.35rem;
}
.footer-contact {
  margin-top: 0.6rem;
}
.footer-contact a {
  color: var(--gold);
  text-decoration: none;
  font-size: clamp(0.65rem, 1.3vw, 0.75rem);
  letter-spacing: 0.04em;
  transition: color 0.3s;
  padding: 0.25rem 0;
  display: inline-block;
}
.footer-contact a:hover { color: var(--white); }
.footer-current-focus {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  font-size: clamp(0.6rem, 1.2vw, 0.7rem);
  color: var(--warm-gray);
  margin-top: 1rem;
  line-height: 1.6;
}
@media (min-width: 768px) {
  .footer-current-focus { 
    justify-content: flex-end; 
    margin-top: 1rem;
  }
}
.footer-current-focus .pin-icon {
  font-size: 1.1rem;
  flex-shrink: 0;
}
@media (min-width: 768px) {
  .footer-current-focus .pin-icon { font-size: 1.2rem; }
}

/* Modal */
.modal-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(10, 10, 10, 0.95);
  z-index: 1000;
  align-items: center;
  justify-content: center;
  padding: 0.75rem;
  animation: modalFade 0.5s ease;
}
@media (min-width: 768px) {
  .modal-overlay { padding: 1rem; }
}
@keyframes modalFade { from { opacity: 0; } to { opacity: 1; } }
.modal-overlay.active { display: flex; }
.modal {
  width: 100%;
  max-width: 480px;
  max-height: 90vh;
  max-height: 90dvh;
  background: var(--white);
  animation: modalSlide 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}
@keyframes modalSlide {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
.modal-close {
  position: absolute;
  top: 0.85rem;
  right: 0.85rem;
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  font-size: 1.1rem;
  color: var(--warm-gray);
  cursor: pointer;
  z-index: 10;
  transition: color 0.3s;
  -webkit-tap-highlight-color: transparent;
}
.modal-close:hover { color: var(--black); }

/* Modal Intro */
.modal-intro {
  padding: 2.5rem 1.5rem;
  text-align: center;
}
@media (min-width: 768px) {
  .modal-intro { padding: 4rem 3rem; }
}
.modal-brand {
  font-family: var(--font-display);
  font-size: clamp(0.6rem, 1.3vw, 0.8rem);
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--gold);
  margin-bottom: 1.25rem;
}
@media (min-width: 768px) {
  .modal-brand { letter-spacing: 0.3em; margin-bottom: 2rem; }
}
.modal-intro h2 {
  font-family: var(--font-display);
  font-size: clamp(1.4rem, 3vw, 2rem);
  font-weight: 300;
  margin-bottom: 0.6rem;
}
.modal-intro > p {
  font-size: clamp(0.75rem, 1.5vw, 0.9rem);
  color: var(--warm-gray);
  margin-bottom: 2rem;
  line-height: 1.7;
}
.modal-choices {
  display: flex;
  gap: 0.75rem;
  justify-content: center;
  flex-wrap: wrap;
}
.modal-choice {
  flex: 1;
  min-width: 120px;
  max-width: 150px;
  padding: 1.25rem 0.85rem;
  background: var(--cream);
  border: 1px solid transparent;
  cursor: pointer;
  transition: all 0.4s;
  text-align: center;
  -webkit-tap-highlight-color: transparent;
}
@media (min-width: 768px) {
  .modal-choice { padding: 2rem 1.5rem; min-width: 130px; max-width: 160px; }
}
.modal-choice:hover, .modal-choice:focus {
  border-color: var(--gold);
  background: var(--white);
  outline: none;
}
.modal-choice svg {
  width: 24px;
  height: 24px;
  color: var(--black);
  margin-bottom: 0.6rem;
}
@media (min-width: 768px) {
  .modal-choice svg { width: 32px; height: 32px; margin-bottom: 1rem; }
}
.modal-choice span {
  display: block;
  font-size: clamp(0.6rem, 1.2vw, 0.75rem);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}
.modal-choice .soon {
  font-size: 0.5rem;
  color: var(--warm-gray);
  margin-top: 0.35rem;
  text-transform: none;
  letter-spacing: 0.04em;
}

/* Chat Container */
.chat-container {
  display: none;
  flex-direction: column;
  height: 75vh;
  height: 75dvh;
  max-height: 550px;
}
@media (min-width: 768px) {
  .chat-container { height: 80vh; max-height: 600px; }
}
.chat-container.active { display: flex; }
.chat-header {
  padding: 1rem 1.25rem;
  border-bottom: 1px solid var(--light-gray);
  display: flex;
  align-items: center;
  gap: 0.65rem;
}
@media (min-width: 768px) {
  .chat-header { padding: 1.5rem 2rem; gap: 1rem; }
}
.chat-avatar {
  width: 34px;
  height: 34px;
  background: var(--gold);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.85rem;
  color: var(--white);
}
@media (min-width: 768px) {
  .chat-avatar { width: 40px; height: 40px; font-size: 1rem; }
}
.chat-header-info h3 {
  font-family: var(--font-display);
  font-size: clamp(0.9rem, 1.8vw, 1.1rem);
  font-weight: 400;
}
.chat-header-info span {
  font-size: clamp(0.55rem, 1.1vw, 0.7rem);
  color: var(--warm-gray);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}
.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 1.25rem;
  background: var(--cream);
  display: flex;
  flex-direction: column;
  gap: 0.65rem;
  -webkit-overflow-scrolling: touch;
}
@media (min-width: 768px) {
  .chat-messages { padding: 2rem; gap: 1rem; }
}
.message {
  max-width: 85%;
  animation: messageIn 0.4s ease;
}
@keyframes messageIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.message.assistant { align-self: flex-start; }
.message.user { align-self: flex-end; }
.message-content {
  padding: 0.75rem 1rem;
  font-size: clamp(0.75rem, 1.4vw, 0.9rem);
  line-height: 1.7;
  white-space: pre-wrap;
}
.message.assistant .message-content {
  background: var(--white);
  color: var(--black);
}
.message.user .message-content {
  background: var(--black);
  color: var(--white);
}
.typing-indicator {
  display: flex;
  gap: 4px;
  padding: 0.75rem 1rem;
  background: var(--white);
  width: fit-content;
}
.typing-indicator span {
  width: 5px;
  height: 5px;
  background: var(--warm-gray);
  border-radius: 50%;
  animation: typing 1.4s ease-in-out infinite;
}
@media (min-width: 768px) {
  .typing-indicator span { width: 6px; height: 6px; }
}
.typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
.typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
@keyframes typing {
  0%, 60%, 100% { transform: translateY(0); }
  30% { transform: translateY(-4px); }
}
.choice-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 0.35rem;
  margin-top: 0.4rem;
}
@media (min-width: 768px) {
  .choice-buttons { gap: 0.5rem; margin-top: 0.5rem; }
}
.option-btn {
  padding: 0.6rem 0.9rem;
  background: var(--white);
  border: 1px solid var(--light-gray);
  font-family: var(--font-body);
  font-size: clamp(0.65rem, 1.3vw, 0.8rem);
  color: var(--black);
  cursor: pointer;
  transition: all 0.3s;
  min-height: 44px;
  -webkit-tap-highlight-color: transparent;
}
.option-btn:hover, .option-btn:focus {
  border-color: var(--black);
  background: var(--black);
  color: var(--white);
  outline: none;
}
.chat-input {
  display: flex;
  gap: 0.4rem;
  padding: 0.85rem 1.25rem;
  border-top: 1px solid var(--light-gray);
  background: var(--white);
}
@media (min-width: 768px) {
  .chat-input { padding: 1.25rem 2rem; gap: 0.5rem; }
}
.chat-input input {
  flex: 1;
  padding: 0.85rem 1rem;
  font-family: var(--font-body);
  font-size: 16px;
  border: 1px solid var(--light-gray);
  outline: none;
  transition: border-color 0.3s;
  border-radius: 0;
  -webkit-appearance: none;
  min-height: 48px;
}
.chat-input input:focus { border-color: var(--black); }
.chat-input button {
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--black);
  border: none;
  cursor: pointer;
  transition: background 0.3s;
  flex-shrink: 0;
  -webkit-tap-highlight-color: transparent;
}
.chat-input button:hover, .chat-input button:focus { 
  background: var(--gold); 
  outline: none;
}
.chat-input button svg {
  width: 16px;
  height: 16px;
  color: var(--white);
}
.outcome-card {
  background: var(--white);
  padding: 1.25rem;
  text-align: center;
  margin-top: 0.65rem;
}
@media (min-width: 768px) {
  .outcome-card { padding: 2rem; margin-top: 1rem; }
}
.outcome-card h3 {
  font-family: var(--font-display);
  font-size: clamp(1rem, 2vw, 1.4rem);
  font-weight: 400;
  margin-bottom: 0.4rem;
}
.outcome-card > p {
  font-size: clamp(0.7rem, 1.3vw, 0.85rem);
  color: var(--warm-gray);
  margin-bottom: 1rem;
}
.book-btn {
  display: inline-block;
  padding: 0.85rem 1.5rem;
  background: var(--black);
  color: var(--white);
  text-decoration: none;
  font-size: clamp(0.55rem, 1.1vw, 0.7rem);
  font-weight: 400;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  transition: background 0.3s;
  min-height: 44px;
}
.book-btn:hover { background: var(--gold); }
.outcome-note {
  margin-top: 1rem;
  font-size: clamp(0.6rem, 1.1vw, 0.75rem);
  color: var(--warm-gray);
}
.lead-confirmation {
  margin-top: 0.35rem;
  font-size: clamp(0.65rem, 1.2vw, 0.8rem);
  color: var(--gold);
}
.hidden { display: none !important; }

/* Scrollbar */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--cream); }
::-webkit-scrollbar-thumb { background: var(--light-gray); }
::-webkit-scrollbar-thumb:hover { background: var(--warm-gray); }

/* Focus visible */
:focus-visible {
  outline: 2px solid var(--gold);
  outline-offset: 2px;
}
  </style>
</head>
<body>

  <!-- Navigation -->
  <nav class="nav" id="nav">
    <a href="#" class="nav-logo">Everything Under the Sun</a>
    <button class="nav-cta" onclick="openModal()">Begin</button>
  </nav>

  <!-- Hero -->
  <section class="hero">
    <div class="hero-media">
      <img src="hero.jpg" alt="Luxury coastal terrace overlooking Pacific Ocean at golden hour" loading="eager" fetchpriority="high">
    </div>
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <p class="hero-eyebrow">Property Services & Custom Building</p>
      <h1 class="hero-title">Everything Under the Sun</h1>
      <p class="hero-subtitle">Where exceptional properties meet exceptional care</p>
    </div>
    <div class="hero-scroll">
      <span>Discover</span>
      <div class="scroll-line"></div>
    </div>
  </section>

  <!-- Currently Working In Banner -->
  <div class="now-serving">
    <div class="now-serving-inner">
      <span class="now-serving-badge">Currently Working In</span>
      <span class="now-serving-text">Malibu ¬∑ Pacific Palisades ¬∑ Altadena</span>
    </div>
  </div>

  <!-- Intro Statement - NEW COPY -->
  <section class="intro">
    <div class="intro-content fade-in">
      <p class="intro-text">
        Building legendary, distinguished properties requires genuine passion, attention to detail, and relationships which are never rushed or replicated ‚Äî the right builder, the right team, the right result. We've spent over twenty years collecting and cultivating the best of all three so <em>you don't have to</em>.
      </p>
    </div>
  </section>

  <!-- Services -->
  <section class="section section-cream">
    <div class="section-header fade-in">
      <p class="section-eyebrow">Services</p>
      <h2 class="section-title">Comprehensive care for distinguished properties</h2>
    </div>
    <div class="services-grid">
      <!-- CARD 1: Premier Builder Network -->
      <div class="service-item fade-in" onclick="toggleService(this)" tabindex="0" onkeypress="handleCardKey(event, this)">
        <div class="service-icon">‚óà</div>
        <h3>Premier Builder Network</h3>
        <p class="service-teaser">The difference between a house and a legacy is who builds it.</p>
        <span class="service-expand-icon">Details</span>
        <div class="service-details">
          <p><!-- PLACEHOLDER: Your copy about curated builder relationships, $100-$1000+/sqft spectrum, 20+ years of trusted partnerships, matched to YOUR project --></p>
        </div>
      </div>
      
      <!-- CARD 2: Fire Restoration -->
      <div class="service-item fade-in" onclick="toggleService(this)" tabindex="0" onkeypress="handleCardKey(event, this)">
        <div class="service-icon">‚óà</div>
        <h3>Fire Restoration</h3>
        <p class="service-teaser">From assessment through reconstruction, restoring grandeur or reimagining entirely.</p>
        <span class="service-expand-icon">Details</span>
        <div class="service-details">
          <p><!-- PLACEHOLDER: Your expanded copy --></p>
        </div>
      </div>
      
      <!-- CARD 3: Water & Flood -->
      <div class="service-item fade-in" onclick="toggleService(this)" tabindex="0" onkeypress="handleCardKey(event, this)">
        <div class="service-icon">‚óà</div>
        <h3>Water & Flood</h3>
        <p class="service-teaser">Immediate response and meticulous restoration, preserving architectural integrity.</p>
        <span class="service-expand-icon">Details</span>
        <div class="service-details">
          <p><!-- PLACEHOLDER: Your expanded copy --></p>
        </div>
      </div>
      
      <!-- CARD 4: Storm Recovery -->
      <div class="service-item fade-in" onclick="toggleService(this)" tabindex="0" onkeypress="handleCardKey(event, this)">
        <div class="service-icon">‚óà</div>
        <h3>Storm Recovery</h3>
        <p class="service-teaser">From emergency stabilization to complete restoration.</p>
        <span class="service-expand-icon">Details</span>
        <div class="service-details">
          <p><!-- PLACEHOLDER: Your expanded copy --></p>
        </div>
      </div>
      
      <!-- CARD 5: Mold Remediation -->
      <div class="service-item fade-in" onclick="toggleService(this)" tabindex="0" onkeypress="handleCardKey(event, this)">
        <div class="service-icon">‚óà</div>
        <h3>Mold Remediation</h3>
        <p class="service-teaser">Discreet, thorough remediation protecting property value and health.</p>
        <span class="service-expand-icon">Details</span>
        <div class="service-details">
          <p><!-- PLACEHOLDER: Your expanded copy --></p>
        </div>
      </div>
      
      <!-- CARD 6: Custom Reconstruction -->
      <div class="service-item fade-in" onclick="toggleService(this)" tabindex="0" onkeypress="handleCardKey(event, this)">
        <div class="service-icon">‚óà</div>
        <h3>Custom Reconstruction</h3>
        <p class="service-teaser">Visions that honor the original while embracing the exceptional.</p>
        <span class="service-expand-icon">Details</span>
        <div class="service-details">
          <p><!-- PLACEHOLDER: Your expanded copy --></p>
        </div>
      </div>
    </div>
  </section>

  <!-- Restoration & Recovery Section - MOVED ORIGINAL INTRO TEXT -->
  <section class="restoration-section fade-in">
    <div class="restoration-inner">
      <p class="restoration-eyebrow">Restoration & Recovery</p>
      <p class="restoration-text">
        We believe that restoring a home is about more than reconstruction. It's about understanding what was lost, honoring what remains, and reimagining what's <em>possible</em>.
      </p>
      <p class="restoration-subtext">
        Our volume of work and passion to assist those dealing with sudden issues keeps our network of solution-oriented people focused, knowledgeable, and the best in the industry at solving any scale problem. Insurance often brings budgetary and various other inherent constraints ‚Äî we have the experts who help owners navigate these waters, avoid common mistakes, and maximize their ability to get the best results in the least amount of time with the fewest obstacles.
      </p>
    </div>
  </section>

  <!-- Image Break -->
  <section class="image-section">
    <img src="midbreak.jpg" alt="Golden hour light over the Pacific Palisades coastline" loading="lazy">
    <div class="image-section-overlay">
      <div class="image-section-content fade-in">
        <h2>Serving with Pride</h2>
        <p>California ¬∑ Croatia ¬∑ Beyond</p>
      </div>
    </div>
  </section>

  <!-- Tribute -->
  <section class="tribute" id="tribute">
    <div class="tribute-header fade-in-left">
      <div class="tribute-icon">üî•</div>
      <div class="tribute-header-text">
        <h3>To Those Who Stood Against the Flames</h3>
        <span>A message from our founder</span>
      </div>
    </div>
    <div class="tribute-body fade-in">
      <p>The fires of 2024 tested our communities with an extreme disaster most have not seen before in our lifetime.</p>
      
      <p>In the face of devastation, we also witnessed extraordinary courage and strength ‚Äî countless firefighters who worked heroically through impossible conditions, neighbors who selflessly helped neighbors, and a massive resilience that defines who and redefines how we are, only after such events.</p>
      
      <p>Now, ignoring breaking points, managing the disruptions and damage most powerful threats can lead to, and living to rebuild stronger we know is done better together by taking care of one another.</p>
      
      <p>Many homes were not a loss. Many lives were saved because of many heroes, and the community helping others. The work we do has illuminated a remarkable amount of reminders while becoming acquainted with an enormous number of properties and lives protected because of their heroism.</p>
      
      <p>For the brave, battle-ready firefighters who have truly done those remarkable things and literally are the heroes I am referring to, I salute all of you. As you drive by, saluting all of you is the best use of my time while pulled to the side or stopped while making a hole.</p>
      
      <p>As a veteran owned company, it is our opinion that the firefighters are the most deserving of a public salute in our society for the courage and service their sense of duty brings to our communities. And now, as we rebuild, we carry forward that same spirit of determination and care.</p>
    </div>
    <div class="tribute-signature fade-in-right">
      <span class="veteran-mark">Veteran Owned & Operated</span>
    </div>
  </section>

  <!-- CTA -->
  <section class="cta-section">
    <div class="fade-in">
      <h2 class="cta-title">Your story is unique</h2>
      <p class="cta-subtitle">Every property has its own narrative. We begin by listening to yours.</p>
      <button class="cta-button" onclick="openModal()">Begin the Conversation</button>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-inner">
      <div class="footer-brand">Everything Under the Sun</div>
      <div class="footer-info">
        <p>Los Angeles, California (HQ) ¬∑ Vela Luka, Korƒçula, Croatia</p>
        <p>¬© 2019 ‚Äì 2026 Everything Under the Sun, LLC</p>
        <div class="footer-contact">
          <a href="tel:+12137697079">+1 213 769 7079</a> ¬∑ <a href="mailto:wave@everythingis.online">wave@everythingis.online</a>
        </div>
        <p class="footer-current-focus">
          <span class="pin-icon">üìç</span> Proudly serving Fire Recovery in Palisades, Malibu, Altadena and other affected communities.
        </p>
      </div>
    </div>
  </footer>

  <!-- Modal -->
  <div class="modal-overlay" id="modal">
    <div class="modal">
      <button class="modal-close" onclick="closeModal()" id="closeBtn" aria-label="Close">‚úï</button>
      
      <div class="modal-intro" id="modalIntro">
        <p class="modal-brand">Everything Under the Sun</p>
        <h2>Let's Begin</h2>
        <p>Tell us about your situation and we'll connect you with exactly what you need.</p>
        <div class="modal-choices">
          <button class="modal-choice" onclick="startChat()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
            <span>Type</span>
          </button>
          <button class="modal-choice" onclick="startChat()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line></svg>
            <span>Speak</span>
            <span class="soon">Coming soon</span>
          </button>
        </div>
      </div>

      <div class="chat-container" id="chatContainer">
        <div class="chat-header">
          <div class="chat-avatar">‚òÄ</div>
          <div class="chat-header-info">
            <h3>Sol</h3>
            <span>Personal Concierge</span>
          </div>
        </div>
        <div class="chat-messages" id="chatMessages"></div>
        <div class="chat-input" id="chatInput">
          <input type="text" id="userInput" placeholder="Your name..." onkeypress="handleKeyPress(event)" autocomplete="off" autocorrect="off" autocapitalize="words">
          <button onclick="sendMessage()" aria-label="Send message">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Scroll animations
    const observerOptions = { threshold: 0.1, rootMargin: '0px 0px -50px 0px' };
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);
    document.querySelectorAll('.fade-in, .fade-in-left, .fade-in-right').forEach(el => observer.observe(el));

    // Nav scroll effect
    let ticking = false;
    window.addEventListener('scroll', () => {
      if (!ticking) {
        window.requestAnimationFrame(() => {
          const nav = document.getElementById('nav');
          if (window.scrollY > 100) {
            nav.classList.add('scrolled');
          } else {
            nav.classList.remove('scrolled');
          }
          ticking = false;
        });
        ticking = true;
      }
    });

    // Service Card Toggle
    function toggleService(card) {
      const wasExpanded = card.classList.contains('expanded');
      // Close all other cards
      document.querySelectorAll('.service-item.expanded').forEach(c => {
        if (c !== card) c.classList.remove('expanded');
      });
      // Toggle this card
      card.classList.toggle('expanded', !wasExpanded);
      
      // Analytics tracking (if available)
      if (typeof gtag !== 'undefined' && !wasExpanded) {
        const serviceName = card.querySelector('h3').textContent;
        gtag('event', 'service_expand', {
          'service_name': serviceName
        });
      }
    }
    
    function handleCardKey(event, card) {
      if (event.key === 'Enter' || event.key === ' ') {
        event.preventDefault();
        toggleService(card);
      }
    }

    // Modal
    function openModal() { 
      document.getElementById('modal').classList.add('active'); 
      document.body.style.overflow = 'hidden'; 
    }
    function closeModal() { 
      document.getElementById('modal').classList.remove('active'); 
      document.body.style.overflow = ''; 
    }
    
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });

    // Chat
    const flow = [
      { id: 'name', question: null, type: 'open' },
      { id: 'type', question: "It's a pleasure to meet you, {name}. How may I assist you today?", type: 'choice', options: ['New Construction', 'Renovation', 'Fire Restoration', 'Storm/Water Damage', 'Consultation', 'Other'] },
      { id: 'location', question: "Where is the property located?", type: 'open' },
      { id: 'urgency', question: "And what is the timeline?", type: 'choice', options: ['Immediate assistance needed', 'Within the coming days', 'Planning ahead', 'Exploring options'] },
      { id: 'budget', question: "To connect you with the right builders, may I ask about your anticipated investment level?", type: 'choice', options: ['$100-300/sqft range', '$300-600/sqft range', '$600-1000+/sqft range', 'Prefer to discuss'] },
      { id: 'vision', question: "Tell me about your vision. What does success look like for this project?", type: 'open' },
      { id: 'approach', question: "One final question, {name}. What matters most to you in this process?", type: 'choice', options: ['Efficiency and speed', 'Balanced approach', 'No compromises on quality'] }
    ];

    let step = 0, userData = {};

    function startChat() {
      document.getElementById('modalIntro').classList.add('hidden');
      document.getElementById('chatContainer').classList.add('active');
      document.getElementById('closeBtn').classList.add('hidden');
      setTimeout(() => addMessage("Good day. I'm Sol, and I'll be guiding you through this process. May I have your name?", 'assistant'), 500);
    }

    function addMessage(text, role) {
      const c = document.getElementById('chatMessages');
      const d = document.createElement('div');
      d.className = 'message ' + role;
      d.innerHTML = '<div class="message-content">' + text + '</div>';
      c.appendChild(d);
      c.scrollTop = c.scrollHeight;
    }

    function addTyping() {
      const c = document.getElementById('chatMessages');
      const d = document.createElement('div');
      d.className = 'message assistant';
      d.id = 'typing';
      d.innerHTML = '<div class="typing-indicator"><span></span><span></span><span></span></div>';
      c.appendChild(d);
      c.scrollTop = c.scrollHeight;
    }

    function removeTyping() { const t = document.getElementById('typing'); if (t) t.remove(); }

    function addChoices(opts) {
      const c = document.getElementById('chatMessages');
      const d = document.createElement('div');
      d.className = 'choice-buttons';
      d.id = 'choices';
      opts.forEach(o => {
        const b = document.createElement('button');
        b.className = 'option-btn';
        b.textContent = o;
        b.onclick = () => { document.getElementById('choices')?.remove(); processResponse(o); };
        d.appendChild(b);
      });
      c.appendChild(d);
      c.scrollTop = c.scrollHeight;
    }

    function sendMessage() {
      const i = document.getElementById('userInput');
      const t = i.value.trim();
      if (!t) return;
      i.value = '';
      processResponse(t);
    }

    function handleKeyPress(e) { if (e.key === 'Enter') sendMessage(); }

    function processResponse(r) {
      addMessage(r, 'user');
      userData[flow[step].id] = r;
      if (step === 0) userData.name = r;
      step++;

      if (step >= flow.length) { showOutcome(); return; }

      addTyping();
      setTimeout(() => {
        removeTyping();
        let q = flow[step].question.replace(/{name}/g, userData.name);
        addMessage(q, 'assistant');
        if (flow[step].type === 'choice') {
          document.getElementById('chatInput').classList.add('hidden');
          setTimeout(() => addChoices(flow[step].options), 300);
        } else {
          document.getElementById('chatInput').classList.remove('hidden');
          document.getElementById('userInput').placeholder = 'Type here...';
          document.getElementById('userInput').focus();
        }
      }, 1000);
    }

    function showOutcome() {
      const msg = `Thank you, ${userData.name}.\n\nBased on our conversation, I believe we can be of significant assistance with your ${userData.type?.toLowerCase() || 'project'}.\n\nI'd like to arrange a personal consultation to discuss the details. Would you prefer a brief call or shall I have someone reach out?`;
      addTyping();
      document.getElementById('chatInput').classList.add('hidden');
      setTimeout(() => {
        removeTyping();
        addMessage(msg, 'assistant');
        setTimeout(() => {
          const c = document.getElementById('chatMessages');
          const card = document.createElement('div');
          card.className = 'outcome-card';
          card.innerHTML = `
            <h3>Schedule Your Consultation</h3>
            <p>A brief conversation to understand your needs.</p>
            <a href="tel:+12137697079" class="book-btn">Call Now</a>
            <p class="outcome-note">Complimentary ¬∑ No obligation ¬∑ Confidential</p>
            <p class="lead-confirmation">‚úì Your inquiry has been received</p>
          `;
          c.appendChild(card);
          c.scrollTop = c.scrollHeight;
          
          // Save lead
          const lead = { ...userData, timestamp: new Date().toISOString() };
          const leads = JSON.parse(localStorage.getItem('euts_leads') || '[]');
          leads.push(lead);
          localStorage.setItem('euts_leads', JSON.stringify(leads));
        }, 800);
      }, 1500);
    }
  </script>
</body>
</html>
